[defaults]
# ============================================================================
# IT-Ops CLI - Configuración de Ansible
# ============================================================================

# Activar callback de JSON para output parseable por Python/Rich
stdout_callback = json

# Inventario por defecto
inventory = inventory/hosts.ini

# Path de roles
roles_path = roles

# Fact caching para mejorar performance
fact_caching = jsonfile
fact_caching_connection = .cache/ansible_facts
fact_caching_timeout = 86400

# Configuración de conexión
timeout = 30
host_key_checking = False

# Logs
log_path = logs/ansible.log

# Paralelismo
forks = 10

# Retry files (desactivar para evitar archivos .retry)
retry_files_enabled = False

# Mostrar output de tareas changed
display_ok_hosts = True
display_skipped_hosts = False

# ============================================================================
# Configuración de WinRM
# ============================================================================
[winrm]
# Transporte WinRM
transport = basic

# Esquema (http para desarrollo, https para producción)
scheme = http

# Puerto por defecto
port = 5985

# Timeout de operaciones
operation_timeout_sec = 60
read_timeout_sec = 70

# Validación de certificado (desactivar para desarrollo)
server_cert_validation = ignore

# ============================================================================
# Privilege Escalation (para tareas que requieren admin)
# ============================================================================
[privilege_escalation]
become = False
become_method = runas
become_user = Administrator
become_ask_pass = False

# ============================================================================
# SSH (no usado para Windows, pero incluido por completitud)
# ============================================================================
[ssh_connection]
pipelining = True
